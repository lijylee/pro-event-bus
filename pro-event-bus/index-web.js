var ProEventBus=function(){"use strict";function r(t){if(!t||"string"!=typeof t)throw new TypeError("Parameter is not a string")}function n(t,e){if(r(t),!(t=e)||"function"!=typeof t)throw new TypeError("Parameter is not a function")}function t(){this._listeners=Object.create(null)}return t.prototype={constructor:t,on:function(t,e){n(t,e),this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e]},once:function(s,i){n(s,i);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.call.apply(i,[this].concat(e)),this.off(s,r)}r.link=i,this.on(s,r)},off:function(t,e){n(t,e),this._listeners[t]&&this._listeners[t].length&&(this._listeners[t]=this._listeners[t].filter(function(t){return t!==e&&t.link!==e}))},offAll:function(t){return t?(this._listeners[t]&&delete this._listeners[t],(t=this._listeners)&&0===Object.keys(t).length&&t.constructor===Object&&(this._listeners=Object.create(null))):this._listeners=Object.create(null),this},emit:function(t){for(var e=this,n=arguments.length,s=new Array(1<n?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];r(t),this._listeners[t]&&this._listeners[t].length&&this._listeners[t].forEach(function(t){t.call.apply(t,[e].concat(s))})}},t}();
