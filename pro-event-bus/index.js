!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ProEventBus=e()}(this,function(){"use strict";function r(t){if(!t||"string"!=typeof t)throw new TypeError("Parameter is not a string")}function n(t,e){if(r(t),!(t=e)||"function"!=typeof t)throw new TypeError("Parameter is not a function")}function t(){this._listeners=Object.create(null)}return t.prototype={constructor:t,on:function(t,e){n(t,e),this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e]},once:function(i,s){n(i,s);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.call.apply(s,[this].concat(e)),this.off(i,r)}r.link=s,this.on(i,r)},off:function(t,e){n(t,e),this._listeners[t]&&this._listeners[t].length&&(this._listeners[t]=this._listeners[t].filter(function(t){return t!==e&&t.link!==e}))},offAll:function(t){return t?(this._listeners[t]&&delete this._listeners[t],(t=this._listeners)&&0===Object.keys(t).length&&t.constructor===Object&&(this._listeners=Object.create(null))):this._listeners=Object.create(null),this},emit:function(t){for(var e=this,n=arguments.length,i=new Array(1<n?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];r(t),this._listeners[t]&&this._listeners[t].length&&this._listeners[t].forEach(function(t){t.call.apply(t,[e].concat(i))})}},t});
